<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        // 属性保护
        const protecteds = Symbol("protected");
        class User {
            constructor(name) {
                this[protecteds] = { name };
            }
            get name() {
                return this[protecteds].name;
            }
            set name(value) {
                if (value.trim() == "") throw new Error("invalid params");
                this[protecteds].name = value;
            }
        }
        let hd = new User("zhangsan");
        hd.name = "lisi";
        console.log(hd.name);

        console.log(Object.keys(hd));


        // // symbol定义私有属性
        // let protecteds = Symbol();
        // class User {
        //     constructor(host) {
        //         this[protecteds] = {};
        //         this[protecteds].host = host;
        //     };
        //     set host(url) {
        //         if (!/^https?:/i.test(url)) {
        //             throw new Error("url格式有误");
        //         }
        //         this[protecteds].host = url;
        //     }
        //     get host() {
        //         return this[protecteds].host;
        //     }
        // }

        // class Admin extends User {
        //     constructor(name) {
        //         super();
        //         this[protecteds].name = name;
        //     }
        //     get name() {
        //         return this[protecteds].name;
        //     }
        // }

        // let hd = new Admin("zhangsan");

        // hd.host = "https://www.zhangsan.com";



        // #定义
        // class User{
        //     // 私有属性
        //     #host = '#host';
        //     constructor(name){
        //         this.name = name;
        //         this.#check(name);
        //     };
        //     // 私有方法
        //     #check(value){
        //         if( value.length < 5 ){
        //             throw new Error('用户名长度不能少于5位');
        //         }
        //     }
        //     get host(){
        //         return this.#host;
        //     };
        //     set host(url){
        //         if(!/^https?:/.test( url)){
        //             throw new Error( 'url格式有误' );
        //         };
        //         return true;
        //     };
        // };
        // let hd = new User('zhangsan');
        // // hd.#host;  //SyntaxError: Private field '#host' must be declared in an enclosing class
    </script>
</body>

</html>