# 类Class

类是一个函数，基层依旧是原型继承，class语法糖使类的声明和使用、继承更加的简洁。

## 类的定义方式

类的定义可以分为两种，一种是声明类，一种是赋值类。

```javascript
//声明类
class User{
    // constructor起到了传递对象的初始参数的作用，不是必须定义声明的。在new的收，会执行constructor方法。
    constructor(name){
        this.name = name;
        // show 是构造函数的方法。
        this.show = function(){ console.log( 'show' )}
    };
    // getName是原型上的方法。
    getName(){
        return this.name
    }
}
//赋值类
let class = class{
    constructor(name){
        this.name = name;
    }
};

var chen = new User('陈');
chen.getName();
chen.show();
typeof User;   // function
```

### constructor

类如果不设置constructor，则类会默认设置如下类型：`在子构造器调用完super后才可以使用this`。

```javascript
constructor( args ){
    super( ...args )
}
```

## 类和构造函数

+ 类就是一个函数，是一种语法糖。下式代码中，两者所起到的作用是一样的。
+ 在使用in遍历的时候，通过方式一class定义的，原型上的方法getName不能遍历到，而方式二构造函数追加到原型上的方法getName则可以遍历到。
+ class默认使用严格模式(use strict)执行。

```javascript
// 定义类
class User{
    // site name 为对象上的两个属性
    site = 'www.chen.com';
    constructor(name){
        this.name = name;
        // show 是构造函数的方法。
        this.show = function(){ console.log( 'show' )}
    };
    // 原型上的方法
    getName(){
        console.log( 'getName' );
    }
}

let chen = new User('陈');

for (const key in chen) {
    console.log(key);  // site name show
}

// 定义构造函数
function User(name){
    this.site = 'www.chen.com';
    this.name = name;
    this.show =function(){
        console.log( 'show' );
    };
};
// 为构造函数原型添加方法
User.prototype.getName = function(){
    console.log( 'getName' );
}

let chen = new User('陈');

for (const key in chen) {
    console.log(key);  // site name show  getName
}
```

## 静态属性和静态方法（static）

+ 可以把为所有对象使用的值定义为静态属性。
+ 一般来讲方法不需要对象属性参与计算就可以定义为静态方法。

```javascript
// 静态访问实现原理
function User(){
    this.show = function(){
        console.log('inside show');
    }
};
User.show = function(){
    console.log( 'outside show' );
};
User._name = 'Miracle';

let chen = new User();

User.show();  // outside show
console.log( User._name );  // Miracle

chen.show();  // inside show
console.log( chen.name );  // undfined
```

```javascript
// 类中静态方法和静态属性使用方法
class User{
    constructor(fn){
        this.fn = fn;
    }
	// 静态属性
    static  LAST_NAME = 'chen';
    // 静态方法
    static getFullName (fn) {
        console.log( this );
        return '大家好，我是' + fn + ' ' + User.LAST_NAME;
    }
    query(fn){
        return fn + ' ' + User.LAST_NAME;
    };
    sayWord(){
        return User.getFullName();
    }
};
let chen = new User();
chen.query('miracle');
User.getFullName('xiaowu');
```





